!function(a){"use strict";a.module("smartKv.directives",["smartKv.templates","smartKv.filters"]).directive("smartKv",["DefaultKvConfiguration",function(b){return{restrict:"EA",scope:{propertiesCollection:"=properties",sourceObject:"=source",config:"=",kvTitle:"=",kvClass:"="},replace:"false",templateUrl:"partials/smartKv_outer.html",controller:"TableCtrl",link:function(c,d,e,f){var g=a.extend({},b,c.config);f.setGlobalConfig(g),f.setSourceObject(c.sourceObject),c.$watch("config",function(c){var d=a.extend({},b,c);f.setGlobalConfig(d)},!0),c.$watch("dataObject.keys.length",function(){f.setSourceObject(c.sourceObject)},!0),c.$watch("propertiesCollection.length",function(){f.setObjectProperties(c.propertiesCollection)},!0)}}}]).directive("smartKvValueHolder",["$filter","$http","$templateCache","$compile",function(a,b,c,d){return{restrict:"C",require:"^smartKv",scope:!0,replace:!0,link:function(e,f,g,h){function i(){f.text(e.formattedValue)}var j,k=e.property,l=h.getSourceObject(),m=a("format");e.formattedValue=l[k.map]?m(l[k.map],k.formatFunction,k.formatParameter):e.config.defaultCellValue,e.$watch("valueProperty.valueTemplateUrl",function(a){a?b.get(a,{cache:c}).success(function(a){j=e.$new(),f.html(a),d(f.contents())(j)}).error(i):i()})}}}])}(angular),function(a){"use strict";a.module("smartKv.filters",[]).constant("DefaultFilters",["currency","date","json","lowercase","number","uppercase"]).filter("format",["$filter","DefaultFilters",function(b,c){return function(d,e,f){var g;return g=e&&a.isFunction(e)?e:-1!==c.indexOf(e)?b(e):function(a){return a},g(d,f)}}])}(angular),angular.module("smartKv.templates",["partials/smartKv_outer.html"]),angular.module("partials/smartKv_outer.html",[]).run(["$templateCache",function(a){a.put("partials/smartKv_outer.html",'<div class="smart-kv {{ kvClass }}">\n    <legend class="smart-kv-legend" ng-hide="kvTitle === """>{{ kvTitle }}</legend>\n    <div ng-repeat="property in propertiesCollection"\n        class="smart-kv-row {{kvRowClass}} {{property.kvRowClass}} {{ bsRowClass }}">\n      <div class="smart-kv-label {{ bsLabelWidthClass }}"><div class="{{ kvLabelClass }}">{{ property.label }}</div></div>\n      <div class="smart-kv-value {{ bsValueWidthClass }}"><div class="smart-kv-value-holder {{ kvValueClass }}"></div></div>\n    </div>\n</div>\n')}]),function(a,b){"use strict";function c(a){function c(a){return this instanceof c?(b.extend(this,a),void 0):new c(a)}this.setDefaultOption=function(a){b.extend(c.prototype,a)},this.setDefaultOption(a),this.$get=function(){return c}}var d=b.module("smartKv.keyValue",[]).constant("DefaultKeyValueConfiguration",{type:"text",map:"",label:"",formatFunction:"",formatParameter:"",valueTemplateUrl:"",labelClass:"",valueClass:""});c.$inject=["DefaultKeyValueConfiguration"],d.provider("KeyValue",c),a.KeyValueProvider=c}(window,angular),function(a){"use strict";a.module("smartKv.kv",["smartKv.directives","smartKv.templates","smartKv.filters"]).constant("DefaultKvConfiguration",{labelWidth:4,totalWidth:10,defaultCellValue:"Â ",defaultKvLabelClass:"pull-right",defaultKvValueClass:"pull-left",defaultKvRowClass:""}).controller("TableCtrl",["$scope","DefaultKvConfiguration",function(b,c){b.objectProperties=[],b.sourceObject=b.sourceObject||{},a.extend(b,c),this.setGlobalConfig=function(d){a.extend(b,c,d),b.bsRowClass=b.rowFluid?"row-fluid":"row",b.bsLabelWidthClass="span"+b.labelWidth.toString(),b.bsValueWidthClass="span"+(b.totalWidth-b.labelWidth).toString(),b.kvRowClass=b.kvRowClass||b.defaultKvRowClass,b.kvValueClass=b.kvValueClass||b.defaultKvValueClass,b.kvLabelClass=b.kvLabelClass||b.defaultKvLabelClass},this.setSourceObject=function(a){b.sourceObject=a},this.setObjectProperties=function(a){b.objectProperties=a},this.getSourceObject=function(){return b.sourceObject}}])}(angular);